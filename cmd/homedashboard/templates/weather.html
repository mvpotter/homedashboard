<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <title>{{.City}} Wetter</title>
    <meta name="viewport" content="width=800, height=480">

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 800px;
            height: 480px;
            overflow: hidden;
            background: #ffffff;
            color: #000000;
            font-family: "DejaVu Sans", system-ui, -apple-system, "Segoe UI", sans-serif;
        }

        body {
            box-sizing: border-box;
            padding: 10px 18px;
            display: flex;
            flex-direction: column;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            padding-bottom: 6px;
            border-bottom: 2px solid #000;
            margin-bottom: 8px;
        }

        .city {
            font-size: 22px;
            font-weight: 700;
        }

        .updated {
            font-size: 14px;
        }

        .top {
            display: flex;
            flex-direction: row;
            flex: 0 0 auto;
            margin-bottom: 10px;
        }

        .now-main {
            flex: 0 0 260px;
            padding-right: 16px;
            border-right: 1px solid #000;
        }

        .now-temp {
            font-size: 86px;
            line-height: 1;
            font-weight: 700;
        }

        .now-label {
            font-size: 16px;
            margin-top: 4px;
        }

        .now-icon-big {
            margin-top: 6px;
            font-size: 40px;
        }

        .now-side {
            flex: 1 1 auto;
            display: flex;
            flex-direction: column;
            padding-left: 12px;
            font-size: 16px;
        }

        .now-row {
            display: flex;
            justify-content: space-between;
            padding: 2px 0;
        }

        .now-row span:first-child {
            font-weight: 500;
        }

        .divider {
            border-top: 1px solid #000;
            margin: 4px 0 6px;
        }

        .bottom {
            flex: 1 1 auto;
            display: flex;
            flex-direction: column;
        }

        .forecast-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .days-grid {
            display: flex;
            flex-direction: row;
            border-top: 1px solid #000;
            border-bottom: 1px solid #000;
            padding: 4px 0;
        }

        .day-card {
            flex: 1 1 0;
            padding: 0 6px;
            font-size: 14px;
            box-sizing: border-box;
            border-left: 1px solid #000;
        }

        .day-card:first-child {
            border-left: none;
        }

        .day-label {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .day-date {
            font-size: 12px;
            margin-bottom: 4px;
        }

        .day-icon {
            font-size: 24px;
            margin-bottom: 2px;
        }

        .day-temp {
            font-size: 14px;
            margin-bottom: 2px;
        }

        .day-text {
            font-size: 12px;
            line-height: 1.2;
            max-height: 3.6em;
            overflow: hidden;
        }

        .footer {
            font-size: 12px;
            text-align: right;
            margin-top: 6px;
        }
    </style>
</head>
<body>
<div class="header">
    <div class="city">{{.City}} Wetter</div>
    <div class="updated">Stand: {{.UpdatedAt.Format "Mon, 02.01. 15:04"}}</div>
</div>

<div class="top">
    <div class="now-main">
        <div class="now-temp">{{printf "%+d" .CurrentTemp}}°</div>
        <div class="now-label">{{.TodayText}}</div>
        {{if .TodayIcon}}
        <div class="now-icon-big">{{.TodayIcon}}</div>
        {{end}}
    </div>

    <div class="now-side">
        <div class="now-row">
            <span>Heute</span>
            <span>Min {{printf "%+d" .TodayMin}}° / Max {{printf "%+d" .TodayMax}}°</span>
        </div>
        {{if .FeelsLike}}
        <div class="now-row">
            <span>Gefühlt</span>
            <span>{{printf "%+d" .FeelsLike}}°</span>
        </div>
        {{end}}
        {{if .Humidity}}
        <div class="now-row">
            <span>Feuchtigkeit</span>
            <span>{{printf "%d" .Humidity}}%</span>
        </div>
        {{end}}
        {{if .WindKmh}}
        <div class="now-row">
            <span>Wind</span>
            <span>{{printf "%.0f" .WindKmh}} km/h</span>
        </div>
        {{end}}
    </div>
</div>

<div class="bottom">
    <div class="forecast-title">Vorhersage</div>
    <div class="days-grid">
        {{range .Days}}
        <div class="day-card">
            <div class="day-label">{{.Label}}</div>
            <div class="day-date">{{.DateShort}}</div>
            <div class="day-icon">{{.Icon}}</div>
            <div class="day-temp">
                {{printf "%+d" .TempMin}}° / {{printf "%+d" .TempMax}}°
            </div>
            <div class="day-text">{{.Text}}</div>
        </div>
        {{end}}
    </div>
</div>

<div class="footer">
    Aktualisiert: {{.UpdatedAt.Format "02.01. 15:04"}} · {{.City}}
</div>
</body>
</html>
